# SM7325 Nothing Phone 1
CONFIG_TOUCHSCREEN_FTS=y
CONFIG_DRM_PANEL_VISIONOX_RM692E5_AMOLED_120HZ=y
CONFIG_SC_GCC_7280=y

# Disable below as it causes screen freeze in Phone 1
CONFIG_SC_DISPCC_7280=n

# Make below options as modules, causing kernel panic
CONFIG_QCOM_GPI_DMA=m
CONFIG_SPI_QCOM_GENI=m

# SOC
CONFIG_FORCE_NR_CPUS=y
CONFIG_NR_CPUS=8
CONFIG_SCSI_UFS_QCOM=y
CONFIG_QCOM_GSBI=y
CONFIG_QCOM_LLCC=y
CONFIG_QCOM_OCMEM=y
CONFIG_QCOM_RMTFS_MEM=y
CONFIG_QCOM_SOCINFO=y
CONFIG_QCOM_WCNSS_CTRL=y
CONFIG_QCOM_APR=y
CONFIG_POWER_RESET_QCOM_PON=y
CONFIG_QCOM_SPMI_TEMP_ALARM=y
CONFIG_QCOM_LMH=y
CONFIG_SCHED_CLUSTER=y
CONFIG_SND_SOC_QDSP6_Q6VOICE=m
CONFIG_SCSI_UFS_BSG=y
CONFIG_PHY_QCOM_QMP_PCIE=y
CONFIG_BACKLIGHT_CLASS_DEVICE=y
CONFIG_INTERCONNECT_QCOM_OSM_L3=y
# Notification LED
# Must be builtin as it won't be automatically modprobed
CONFIG_LEDS_TRIGGER_PATTERN=y
CONFIG_LEDS_CLASS_MULTICOLOR=m
CONFIG_LEDS_QCOM_LPG=m
CONFIG_I2C_QCOM_GENI=y

# Flash LED
CONFIG_LEDS_QCOM_FLASH=m

# Remoteproc
CONFIG_SLIMBUS=y
CONFIG_SLIM_QCOM_CTRL=y
CONFIG_SLIM_QCOM_NGD_CTRL=y
CONFIG_REMOTEPROC_CDEV=y

# Battery
CONFIG_BATTERY_QCOM_FG=m
CONFIG_CHARGER_QCOM_SMB2=m
CONFIG_QCOM_SPMI_RRADC=m

# Graphics
CONFIG_DRM=y
CONFIG_FB_SIMPLE=y
CONFIG_DRM_MSM=y
# Virtual video test driver
CONFIG_VIDEO_VIVID=m

# Brightness Control
CONFIG_REGULATOR_QCOM_LABIBB=y
CONFIG_BACKLIGHT_QCOM_WLED=y

# Haptics
CONFIG_FF_MEMLESS=y
CONFIG_INPUT_QCOM_SPMI_HAPTICS=m

# Power management
CONFIG_PM_AUTOSLEEP=y
CONFIG_PM_WAKELOCKS=y

# MGLRU
CONFIG_LRU_GEN=y
CONFIG_LRU_GEN_ENABLED=y

# Misc useful things
CONFIG_SCSI_SCAN_ASYNC=y
CONFIG_DMABUF_HEAPS=y
CONFIG_UDMABUF=y
CONFIG_DMABUF_HEAPS_CMA=y
CONFIG_DMABUF_HEAPS_SYSTEM=y
CONFIG_HZ_1000=y
CONFIG_MODULE_COMPRESS_ZSTD=y
# Alpine can't seem to handle this
CONFIG_MODULE_DECOMPRESS=y

# Usage clamping (scale CPU for specific tasks)
CONFIG_UCLAMP_TASK=y
CONFIG_UCLAMP_TASK_GROUP=y

# Needed for mounting userdata on android
CONFIG_QFMT_V2=y

# HID/Input
CONFIG_I2C_HID=y
CONFIG_HID_GENERIC=m
CONFIG_UHID=m
CONFIG_USB_HID=m
CONFIG_INPUT_EVDEV=y
CONFIG_BT_HIDP=m
CONFIG_INPUT_JOYDEV=m

# Persistent store
CONFIG_PSTORE=y
CONFIG_PSTORE_CONSOLE=y
CONFIG_PSTORE_PMSG=y
CONFIG_PSTORE_RAM=y
CONFIG_PSTORE_DEFLATE_COMPRESS=y

# USB
CONFIG_USB_CONFIGFS=y
CONFIG_USB_CONFIGFS_F_HID=y

CONFIG_LEDS_TRIGGER_ONESHOT=y
CONFIG_LEDS_TRIGGER_BACKLIGHT=y
CONFIG_LEDS_TRIGGER_ACTIVITY=y

# Platform
CONFIG_EFI_GENERIC_STUB=y
CONFIG_EFI_ZBOOT=y
# Causes issues with u-boot
CONFIG_FB_EFI=n

# sm8250
CONFIG_INTERCONNECT_QCOM_SM8250=y
CONFIG_PHY_QCOM_QMP_USB=y

# Qcom stuff
CONFIG_RPMSG_CHAR=y
CONFIG_QCOM_Q6V5_ADSP=m
CONFIG_BT_RFCOMM=y
CONFIG_BT_RFCOMM_TTY=y
CONFIG_BT_BNEP=y
CONFIG_BT_BNEP_MC_FILTER=y
CONFIG_BT_BNEP_PROTO_FILTER=y
CONFIG_BT_HS=y
CONFIG_BT_LE=y
CONFIG_HID_BATTERY_STRENGTH=y
CONFIG_HIDRAW=y
CONFIG_QCOM_COINCELL=m
CONFIG_QCOM_FASTRPC=m
CONFIG_QCOM_SPMI_VADC=y
CONFIG_QCOM_SPMI_ADC5=y
CONFIG_PHY_QCOM_QMP=y
CONFIG_PHY_QCOM_QUSB2=y
CONFIG_PHY_QCOM_QMP_UFS=y
CONFIG_TYPEC=y
CONFIG_PHY_QCOM_QMP_COMBO=y
CONFIG_LEDS_CLASS_FLASH=y
CONFIG_TCP_CONG_ADVANCED=y
CONFIG_TCP_CONG_WESTWOOD=y
CONFIG_DEFAULT_WESTWOOD=y
CONFIG_BLK_DEV_RAM=y
CONFIG_BLK_DEV_RAM_SIZE=8192
CONFIG_BTRFS_FS=y
CONFIG_BTRFS_FS_POSIX_ACL=y
CONFIG_F2FS_FS=y
CONFIG_NLS_UTF8=y
CONFIG_NLS_DEFAULT="utf8"
CONFIG_FAT_DEFAULT_UTF8=y
CONFIG_EXFAT_FS=m
CONFIG_CPU_FREQ_GOV_POWERSAVE=y
CONFIG_SYN_COOKIES=y
CONFIG_UEVENT_HELPER=y
CONFIG_INPUT_UINPUT=m
CONFIG_U_SERIAL_CONSOLE=y
CONFIG_USB_ANNOUNCE_NEW_DEVICES=y

# Qcomlt
CONFIG_BLK_INLINE_ENCRYPTION=y
CONFIG_QCOM_QMI_COOLING=m
CONFIG_PHY_QCOM_SNPS_EUSB2=m
CONFIG_MFD_QCOM_QCA639X=y
CONFIG_MFD_QCOM_RPM=y
CONFIG_USB_DWC3_ULPI=y
CONFIG_USB_REPEATER=y
CONFIG_SCSI_UFS_CRYPTO=y
CONFIG_PHY_QCOM_USB_HS=y
CONFIG_PHY_QCOM_USB_SNPS_FEMTO_V2=y
CONFIG_INTERCONNECT_QCOM_SM6115=y
CONFIG_SM_DISPCC_6115=y
CONFIG_FS_ENCRYPTION=y
CONFIG_FS_ENCRYPTION_INLINE_CRYPT=y
CONFIG_CRYPTO_USER_API_AEAD=y
CONFIG_CRYPTO_DEV_QCE=y
CONFIG_DMA_CMA=y
CONFIG_SM_GPUCC_6115=y
CONFIG_USB_ONBOARD_HUB=n # Breaks USB on rb2
CONFIG_INTERCONNECT_QCOM_QCM2290=y

# Anbox
CONFIG_BRIDGE_NETFILTER=y
CONFIG_CHECKPOINT_RESTORE=y
CONFIG_PACKET_DIAG=y
CONFIG_UNIX_DIAG=y
CONFIG_NETLINK_DIAG=m
CONFIG_NETFILTER_XT_MATCH_COMMENT=m
CONFIG_ASHMEM=y
CONFIG_ANDROID=y
CONFIG_ANDROID_BINDER_IPC=y
CONFIG_SQUASHFS_XATTR=y
CONFIG_SQUASHFS_LZ4=y
CONFIG_SQUASHFS_LZO=y
CONFIG_SQUASHFS_XZ=y

# Waydroid
CONFIG_PSI=y

# WLAN debugging
CONFIG_ATH10K_DEBUG=y
CONFIG_ATH10K_DEBUGFS=y
CONFIG_ATH10K_SPECTRAL=y

CONFIG_NET_SCH_HTB=y
CONFIG_NET_SCH_PRIO=y
CONFIG_NET_SCH_MULTIQ=y

# Debugging stuff
CONFIG_STACKTRACE=y

#pmOS Related
CONFIG_VT=y
CONFIG_CRYPTO_XTS=y
CONFIG_TMPFS_XATTR=y
CONFIG_BLK_DEV_DM=y
CONFIG_DM_CRYPT=y
CONFIG_BINFMT_MISC=m
# CONFIG_USB_MASS_STORAGE is not set

CONFIG_NF_TABLES=m
CONFIG_NF_TABLES_INET=y
CONFIG_NFT_CT=m
CONFIG_NFT_COUNTER=m
CONFIG_NFT_COMPAT=m
CONFIG_NFT_LOG=m
CONFIG_NFT_LIMIT=m
CONFIG_NFT_MASQ=m
CONFIG_NFT_NAT=m
CONFIG_NFT_REJECT=m
CONFIG_NF_TABLES_IPV4=y
CONFIG_NF_TABLES_IPV6=y
CONFIG_SND_USB_AUDIO=m
CONFIG_CIFS=y

CONFIG_DRM_GUD=m
CONFIG_UCLAMP_TASK=y
CONFIG_UCLAMP_TASK_GROUP=y

# pmos containers kconfig
CONFIG_CGROUP_FREEZER=y
CONFIG_NETFILTER_XT_MATCH_IPVS=m
CONFIG_NETFILTER_XT_MARK=m
CONFIG_NETFILTER_XT_MATCH_STATISTIC=m
CONFIG_DUMMY=m
CONFIG_BLK_DEV_THROTTLING=y
CONFIG_NET_CLS_CGROUP=m
CONFIG_RT_GROUP_SCHED=y
CONFIG_IP_NF_TARGET_REDIRECT=m
CONFIG_IP_VS=m
CONFIG_IP_VS_NFCT=y
CONFIG_IP_VS_PROTO_TCP=y
CONFIG_IP_VS_PROTO_UDP=y
CONFIG_IP_VS_RR=y
CONFIG_EXT4_FS_SECURITY=y
CONFIG_CFS_BANDWIDTH=y
CONFIG_DM_THIN_PROVISIONING=y
CONFIG_VXLAN=m
CONFIG_CGROUP_NET_PRIO=y
CONFIG_IPVLAN=m

# pmOS ZRAM kconfig
CONFIG_ZSMALLOC=m
CONFIG_ZSMALLOC_STAT=y
CONFIG_ZRAM=m
CONFIG_ZRAM_DEF_COMP_ZSTD=y
CONFIG_ZRAM_DEF_COMP="zstd"
CONFIG_ZRAM_MEMORY_TRACKING=y
CONFIG_ZRAM_MULTI_COMP=y
CONFIG_CRYPTO_LZ4=m
CONFIG_LZ4_COMPRESS=m
CONFIG_CRYPTO_LZO=m
CONFIG_CRYPTO_ZSTD=m

# pmOS iwd kconfig
CONFIG_CRYPTO_USER_API_HASH=m
CONFIG_CRYPTO_USER_API_SKCIPHER=m
CONFIG_KEY_DH_OPERATIONS=y
CONFIG_CRYPTO_KPP=y
CONFIG_PKCS8_PRIVATE_KEY_PARSER=y

# pmOS wireguard kconfig
CONFIG_WIREGUARD=m
CONFIG_IP_ADVANCED_ROUTER=y
CONFIG_IP_MULTIPLE_TABLES=y
CONFIG_IPV6_MULTIPLE_TABLES=y
CONFIG_NF_CONNTRACK_MARK=y
CONFIG_NFT_FIB=m
CONFIG_NFT_FIB_IPV4=m
CONFIG_NFT_FIB_IPV6=m
CONFIG_FIB_RULES=y

# pmOS community kconfig
CONFIG_NETFILTER_XT_TARGET_TCPMSS=m
CONFIG_NETFILTER_XT_MATCH_TCPMSS=m

# LEDs
CONFIG_NEW_LEDS=y
CONFIG_LEDS_CLASS=y

